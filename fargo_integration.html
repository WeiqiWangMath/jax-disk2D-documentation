

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>FARGO3D Integration &mdash; jax-disk2D 0.0.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="_static/sync_videos.css?v=953de6ad" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=d45e8c67"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="_static/sync_videos.js?v=71b0c0f2"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="PINN Training" href="pinn_training.html" />
    <link rel="prev" title="Getting Started" href="getting_started.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #2980B9" >

          
          
          <a href="index.html" class="icon icon-home">
            jax-disk2D
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting_started.html">Getting Started</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">FARGO3D Integration</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#default-configuration-fargo2-run-yml">Default Configuration: fargo2_run.yml</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#disk-parameters">Disk Parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="#damping-zone-parameters">Damping Zone Parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="#planet-parameters">Planet Parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="#mesh-parameters">Mesh Parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="#output-control-parameters">Output Control Parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="#plotting-parameters">Plotting Parameters</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#customizing-parameters">Customizing Parameters</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="pinn_training.html">PINN Training</a></li>
<li class="toctree-l1"><a class="reference internal" href="huggingface.html">Hugging Face Integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="api_reference.html">API Reference</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: #2980B9" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">jax-disk2D</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">FARGO3D Integration</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/fargo_integration.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="fargo3d-integration">
<h1>FARGO3D Integration<a class="headerlink" href="#fargo3d-integration" title="Link to this heading"></a></h1>
<p>jax-disk2D integrates with FARGO3D for validation and comparison purposes. FARGO3D is a well-established grid-based hydrodynamic solver that provides reference solutions against which PINN results can be validated. For detailed information about FARGO3D itself, see the <a class="reference external" href="https://github.com/FARGO3D/documentation">official FARGO3D documentation</a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The basic workflow for getting, compiling, and running FARGO3D simulations is covered in the <a class="reference internal" href="getting_started.html"><span class="doc">Getting Started</span></a> guide. This section focuses on the configuration parameters used in jax-disk2D.</p>
</div>
<section id="default-configuration-fargo2-run-yml">
<h2>Default Configuration: fargo2_run.yml<a class="headerlink" href="#default-configuration-fargo2-run-yml" title="Link to this heading"></a></h2>
<p>The default FARGO3D setup used in jax-disk2D is defined in <code class="docutils literal notranslate"><span class="pre">fargo2_run.yml</span></code>. This configuration simulates a 2D accretion disk with a low-mass companion (planet) and provides the <strong>physics settings for PINN training</strong>. The physical parameters defined here (disk properties, planet mass, domain boundaries, etc.) determine the physical system that the PINN will learn to solve.</p>
<p>All parameters described below are standard FARGO3D parameters and are documented in detail in the <a class="reference external" href="https://github.com/FARGO3D/documentation">FARGO3D documentation</a>. The parameters are organized into several categories:</p>
<section id="disk-parameters">
<h3>Disk Parameters<a class="headerlink" href="#disk-parameters" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p><strong>AspectRatio</strong> (0.05): The disk aspect ratio, defined as H/r where H is the disk scale height and r is the radial coordinate. A value of 0.05 corresponds to a thin disk.</p></li>
<li><p><strong>Sigma0</strong> (1.0): The reference surface density normalization factor.</p></li>
<li><p><strong>Nu</strong> (1.0e-5): The kinematic viscosity coefficient. This controls the strength of viscous diffusion in the disk.</p></li>
<li><p><strong>SigmaSlope</strong> (0.0): The power-law index for the initial surface density profile. A value of 0.0 corresponds to a flat surface density profile.</p></li>
<li><p><strong>FlaringIndex</strong> (0.0): The flaring index for the disk scale height. A value of 0.0 means the scale height is constant with radius.</p></li>
</ul>
</section>
<section id="damping-zone-parameters">
<h3>Damping Zone Parameters<a class="headerlink" href="#damping-zone-parameters" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p><strong>DampingZone</strong> (1.15): The radial range for wave damping, specified in period-ratios. Values smaller than one prevent damping. This parameter controls the location where waves are damped near the domain boundaries to prevent spurious reflections.</p></li>
<li><p><strong>TauDamp</strong> (0.3): The characteristic damping time, in units of the inverse local orbital frequency. Higher values mean lower damping (weaker damping).</p></li>
</ul>
</section>
<section id="planet-parameters">
<h3>Planet Parameters<a class="headerlink" href="#planet-parameters" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p><strong>PlanetMass</strong> (1e-05): The planet mass in units of the central star mass. A value of 1e-05 corresponds to a low-mass companion (approximately 10 Earth masses for a solar-mass star).</p></li>
<li><p><strong>PlanetMassFile</strong> (cfg): Specifies that planet mass is read from a configuration file.</p></li>
<li><p><strong>PlanetConfig</strong> (planets/jupiter.cfg): Path to the planet configuration file.</p></li>
<li><p><strong>ThicknessSmoothing</strong> (0.6): The smoothing length for the planet’s gravitational potential, in units of the disk scale height. This prevents numerical singularities.</p></li>
<li><p><strong>RocheSmoothing</strong> (0.0): Additional smoothing for the Roche potential. A value of 0.0 means no additional smoothing.</p></li>
<li><p><strong>Eccentricity</strong> (0.0): The orbital eccentricity of the planet. A value of 0.0 corresponds to a circular orbit.</p></li>
<li><p><strong>ExcludeHill</strong> (‘no’): Whether to exclude the Hill sphere from the simulation domain. Set to ‘no’ to include it.</p></li>
<li><p><strong>IndirectTerm</strong> (‘yes’): Whether to include the indirect term in the gravitational potential, accounting for the motion of the central star due to the planet.</p></li>
</ul>
</section>
<section id="mesh-parameters">
<h3>Mesh Parameters<a class="headerlink" href="#mesh-parameters" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p><strong>Nx</strong> (1536): Number of grid cells in the azimuthal (θ) direction.</p></li>
<li><p><strong>Ny</strong> (1024): Number of grid cells in the radial (r) direction.</p></li>
<li><p><strong>Xmin</strong> (-π): Minimum azimuthal coordinate (in radians). The value -π to π covers the full 2π azimuthal domain.</p></li>
<li><p><strong>Xmax</strong> (π): Maximum azimuthal coordinate (in radians).</p></li>
<li><p><strong>Ymin</strong> (0.4): Minimum radial coordinate in code units. This defines the inner boundary of the disk.</p></li>
<li><p><strong>Ymax</strong> (2.5): Maximum radial coordinate in code units. This defines the outer boundary of the disk.</p></li>
<li><p><strong>OmegaFrame</strong> (1.0005): The angular velocity of the reference frame. This is slightly larger than the Keplerian frequency at the planet’s location, placing the frame in a slightly super-Keplerian state.</p></li>
<li><p><strong>Frame</strong> (G): The reference frame type. ‘G’ indicates a frame that rotates with the planet.</p></li>
</ul>
</section>
<section id="output-control-parameters">
<h3>Output Control Parameters<a class="headerlink" href="#output-control-parameters" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p><strong>DT</strong> (0.314159265359): The time step in code units. One orbit corresponds to 2π ≈ 6.28, so with DT ≈ 0.314, one orbit is approximately 20 time steps.</p></li>
<li><p><strong>Ninterm</strong> (5): The number of time steps between intermediate outputs. Outputs are saved every 5 time steps.</p></li>
<li><p><strong>Ntot</strong> (100): The total number of intermediate outputs. With Ninterm=5, this corresponds to 500 time steps total, or approximately 25 orbits.</p></li>
<li><p><strong>OutputDir</strong> (<a class="reference external" href="mailto:'&#37;&#52;&#48;outputs">‘<span>&#64;</span>outputs</a>’): The directory where output files are saved. The <a class="reference external" href="mailto:'&#37;&#52;&#48;outputs">‘<span>&#64;</span>outputs</a>’ is a Guild AI placeholder that gets resolved to the appropriate output directory.</p></li>
</ul>
</section>
<section id="plotting-parameters">
<h3>Plotting Parameters<a class="headerlink" href="#plotting-parameters" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p><strong>PlotLog</strong> (‘yes’): Whether to use logarithmic scaling for plotting. Set to ‘yes’ for better visualization of density variations.</p></li>
</ul>
</section>
</section>
<section id="customizing-parameters">
<h2>Customizing Parameters<a class="headerlink" href="#customizing-parameters" title="Link to this heading"></a></h2>
<p>You can override any of these parameters when running a simulation. For example, to change the number of orbits:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>guild<span class="w"> </span>run<span class="w"> </span>fargo:run<span class="w"> </span>@fargo2_run.yml<span class="w"> </span><span class="nv">Ntot</span><span class="o">=</span><span class="m">100</span>
</pre></div>
</div>
<p>This changes <code class="docutils literal notranslate"><span class="pre">Ntot</span></code> to 100, which with the default <code class="docutils literal notranslate"><span class="pre">Ninterm=5</span></code> and <code class="docutils literal notranslate"><span class="pre">DT≈0.314</span></code> corresponds to approximately 25 orbits.</p>
<p>For more advanced customization, you can create your own configuration file based on <code class="docutils literal notranslate"><span class="pre">fargo2_run.yml</span></code> and modify the parameters as needed. All parameters are fully documented in the <a class="reference external" href="https://github.com/FARGO3D/documentation">FARGO3D documentation</a>, which provides detailed explanations of their physical and numerical meanings. When modifying these parameters, keep in mind that they define the physical system that your PINN will be trained to solve.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="getting_started.html" class="btn btn-neutral float-left" title="Getting Started" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="pinn_training.html" class="btn btn-neutral float-right" title="PINN Training" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Shunyuan Mao, Weiqi Wang.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>